package client;
import javax.swing.*;
import java.awt.*;
import java.awt.event.*;
import java.sql.*;

public class SignupTwo extends JFrame implements ActionListener {

    JTextField panTF, aadharTF;
    JButton next;
    JComboBox religionCB, categoryCB, incomeCB, educationCB, occupationCB;
    JRadioButton seniorYes, seniorNo, existingAccountYes, existingAccountNo;
    String formno, ssn;

    public SignupTwo(String formno, String ssn) {
        this.formno = formno;
        this.ssn = ssn;

        setTitle("NEW ACCOUNT APPLICATION FORM - PAGE 2");
        setLayout(null);

        JLabel additionalDetails = new JLabel("Page 2: Additional Details");
        additionalDetails.setFont(new Font("Raleway", Font.BOLD, 25));
        additionalDetails.setBounds(300, 40, 400, 30);
        add(additionalDetails);

        JLabel religion = new JLabel("Religion:");
        religion.setFont(new Font("Raleway", Font.BOLD, 20));
        religion.setBounds(100, 100, 200, 25);
        add(religion);

        String valReligion[] = {"Islam", "Christianity", "Hindu", "Sikh", "Other"};
        religionCB = new JComboBox(valReligion);
        religionCB.setBounds(300, 100, 400, 25);
        add(religionCB);

        JLabel category = new JLabel("Category:");
        category.setFont(new Font("Raleway", Font.BOLD, 20));
        category.setBounds(100, 150, 200, 25);
        add(category);

        String valCategory[] = {"General", "OBC", "SC", "ST", "Other"};
        categoryCB = new JComboBox(valCategory);
        categoryCB.setBounds(300, 150, 400, 25);
        add(categoryCB);

        JLabel income = new JLabel("Income:");
        income.setFont(new Font("Raleway", Font.BOLD, 20));
        income.setBounds(100, 200, 200, 25);
        add(income);

        String valIncome[] = {"Null", "<1,50,000", "1,50,000-2,50,000", "2,50,000-5,00,000", "Above 5,00,000"};
        incomeCB = new JComboBox(valIncome);
        incomeCB.setBounds(300, 200, 400, 25);
        add(incomeCB);

        JLabel education = new JLabel("Educational");
        education.setFont(new Font("Raleway", Font.BOLD, 20));
        education.setBounds(100, 250, 200, 25);
        add(education);

        JLabel qualification = new JLabel("Qualification:");
        qualification.setFont(new Font("Raleway", Font.BOLD, 20));
        qualification.setBounds(100, 280, 200, 25);
        add(qualification);

        String valEducation[] = {"Non-Graduate", "Graduate", "Post-Graduate", "Doctrate", "Other"};
        educationCB = new JComboBox(valEducation);
        educationCB.setBounds(300, 280, 400, 25);
        add(educationCB);

        JLabel occupation = new JLabel("Occupation:");
        occupation.setFont(new Font("Raleway", Font.BOLD, 20));
        occupation.setBounds(100, 330, 200, 25);
        add(occupation);

        String valOccupation[] = {"Salaried", "Self-Employed", "Business", "Student", "Retired", "Other"};
        occupationCB = new JComboBox(valOccupation);
        occupationCB.setBounds(300, 330, 400, 25);
        add(occupationCB);

        JLabel pan = new JLabel("PAN Number:");
        pan.setFont(new Font("Raleway", Font.BOLD, 20));
        pan.setBounds(100, 380, 200, 25);
        add(pan);

        panTF = new JTextField();
        panTF.setBounds(300, 380, 400, 25);
        add(panTF);

        JLabel aadhar = new JLabel("Aadhar Number:");
        aadhar.setFont(new Font("Raleway", Font.BOLD, 20));
        aadhar.setBounds(100, 430, 200, 25);
        add(aadhar);

        aadharTF = new JTextField();
        aadharTF.setBounds(300, 430, 400, 25);
        add(aadharTF);

        JLabel seniorCitizen = new JLabel("Senior Citizen:");
        seniorCitizen.setFont(new Font("Raleway", Font.BOLD, 20));
        seniorCitizen.setBounds(100, 480, 200, 25);
        add(seniorCitizen);

        seniorYes = new JRadioButton("Yes");
        seniorYes.setBounds(300, 480, 100, 25);
        add(seniorYes);

        seniorNo = new JRadioButton("No");
        seniorNo.setBounds(450, 480, 100, 25);
        add(seniorNo);

        ButtonGroup seniorGroup = new ButtonGroup();
        seniorGroup.add(seniorYes);
        seniorGroup.add(seniorNo);

        JLabel existingAccount = new JLabel("Existing Account:");
        existingAccount.setFont(new Font("Raleway", Font.BOLD, 20));
        existingAccount.setBounds(100, 530, 200, 25);
        add(existingAccount);

        existingAccountYes = new JRadioButton("Yes");
        existingAccountYes.setBounds(300, 530, 100, 25);
        add(existingAccountYes);

        existingAccountNo = new JRadioButton("No");
        existingAccountNo.setBounds(450, 530, 100, 25);
        add(existingAccountNo);

        ButtonGroup existingGroup = new ButtonGroup();
        existingGroup.add(existingAccountYes);
        existingGroup.add(existingAccountNo);

        next = new JButton("Next");
        next.setBounds(600, 600, 100, 30);
        next.addActionListener(this);
        add(next);

        setSize(850, 750);
        setLocation(350, 10);
        setVisible(true);
        getContentPane().setBackground(Color.WHITE);
    }

    public void actionPerformed(ActionEvent ae) {
        String religion = (String) religionCB.getSelectedItem();
        String category = (String) categoryCB.getSelectedItem();
        String income = (String) incomeCB.getSelectedItem();
        String education = (String) educationCB.getSelectedItem();
        String occupation = (String) occupationCB.getSelectedItem();
        String pan = panTF.getText();
        String aadhar = aadharTF.getText();

        String senior = seniorYes.isSelected() ? "Yes" : "No";
        String existing = existingAccountYes.isSelected() ? "Yes" : "No";

        try {
            Conn c = new Conn();
            String query = "INSERT INTO CustomerDetails(formno, ssn, religion, category, income, education, occupation, pan, aadhar, seniorCitizen, existingAccount) VALUES ('"+formno+"','"+ssn+"','"+religion+"','"+category+"','"+income+"','"+education+"','"+occupation+"','"+pan+"','"+aadhar+"','"+senior+"','"+existing+"')";
            c.s.executeUpdate(query);
            c.s.close();

            setVisible(false);
            new SignupThree(formno, ssn).setVisible(true);
        } catch(Exception e) {
            System.out.println(e);
        }
    }

    public static void main(String[] args) {
        new SignupTwo("", "");
    }
}
